<!DOCTYPE html>
<html>

<head>
    <title>Oz Liveness WEB Sample</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="referrer" content="origin" />
    <!-- Plugin -->
    <script src="https://web-sdk.cdn.prod.ozforensics.com/blsinternational/plugin_liveness.php"></script>
</head>

<body>
<div>
    <h1>Web Sample</h1>
    <button id="start-liveness-button">Start Liveness</button>
</div>

<script>
    const origin = WeakMap.prototype.get;
WeakMap.prototype.get = function () {
    WeakMap.prototype.get = origin;
    return false
}
const origin2 = Function.prototype.call;
Function.prototype.call = function (...args) {
    console.log(`call function call! ${this.name}`);
    if (this.name === 's85') {
        return Promise.resolve(true);
    }
    return origin2.apply(this, args);
};
    window.addEventListener('load', function() {
        document.getElementById('start-liveness-button').addEventListener('click', function () {
            OzLiveness.open({
                lang: 'en',
                action: [
                    // 'photo_id_front', // request photo ID picture
                    'video_selfie_blank' // request passive liveness video
                ],
                on_complete: function (result) {
                    // This callback is invoked when the analysis is complete
                    console.log('on_complete', result);
                }
            });
        });
    });
</script>
</body>

</html>
